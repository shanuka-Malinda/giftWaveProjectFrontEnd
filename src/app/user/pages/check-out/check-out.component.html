<p-toast />
<div class="main">
    <h2 class="count">{{giftboxCount}} &nbsp;gifts are selected</h2>
    <div class="detail">
        <div *ngFor="let item of giftBoxitems" class="giftBox-card">
            <div class="gift-image">
                <img [src]="item.image" alt="{{ item.name }}" height="70px" class="clickable-image"
                    (click)="openImagePreview(item.image)" />

                <!-- Modal for image preview -->
                <div *ngIf="showModal" class="modal" (click)="closeModal()">
                    <span class="close">&times;</span>
                    <img class="modal-content" [src]="previewImage" alt="Image Preview" />
                </div>
            </div>
            <div class="gift-info">
                <h4 class="gift-name"> [#{{ item.id }}] &nbsp; {{ item.name }}</h4>
                <div class="gift-price">{{ item.unitPrice }} LKR</div>
            </div>
            <p-button icon="pi pi-times" [rounded]="true" severity="danger" [outlined]="true"
                (onClick)="removeItemFromArray(item.id)" />
        </div>
    </div>
    <div class="check-out">
        <div class="plan-card">
            <h2>Pay here <span>www.giftwave.com</span></h2>
            <div class="etiquet-price">
                <p>{{totalPrice}}</p>
                <div></div>
            </div>
            <div class="benefits-list">
                <ul>
                    <li><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M243.8 339.8C232.9 350.7 215.1 350.7 204.2 339.8L140.2 275.8C129.3 264.9 129.3 247.1 140.2 236.2C151.1 225.3 168.9 225.3 179.8 236.2L224 280.4L332.2 172.2C343.1 161.3 360.9 161.3 371.8 172.2C382.7 183.1 382.7 200.9 371.8 211.8L243.8 339.8zM512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 48C141.1 48 48 141.1 48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48z">
                            </path>
                        </svg><span>Analysis</span></li>
                    <li><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M243.8 339.8C232.9 350.7 215.1 350.7 204.2 339.8L140.2 275.8C129.3 264.9 129.3 247.1 140.2 236.2C151.1 225.3 168.9 225.3 179.8 236.2L224 280.4L332.2 172.2C343.1 161.3 360.9 161.3 371.8 172.2C382.7 183.1 382.7 200.9 371.8 211.8L243.8 339.8zM512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 48C141.1 48 48 141.1 48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48z">
                            </path>
                        </svg><span>Consulting</span></li>
                    <li><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M243.8 339.8C232.9 350.7 215.1 350.7 204.2 339.8L140.2 275.8C129.3 264.9 129.3 247.1 140.2 236.2C151.1 225.3 168.9 225.3 179.8 236.2L224 280.4L332.2 172.2C343.1 161.3 360.9 161.3 371.8 172.2C382.7 183.1 382.7 200.9 371.8 211.8L243.8 339.8zM512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 48C141.1 48 48 141.1 48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48z">
                            </path>
                        </svg><span>Facilitate</span></li>
                </ul>
            </div>
            <div class="button-get-plan btnBg1">
                <a href="payment" (click)="checkOut()" >
                    <span>Place order</span>
                </a>
            </div>
            <div class="button-get-plan btnBg2">
                <a (click)="saveGift()" >
                    <span>Save order</span>
                </a>
            </div>
        </div>
    </div>





</div>





<div class="customerDetail">
    <h3>Add recievers information</h3>
    <div class="card flex justify-content-center">
        <p-stepper>
            <p-stepperPanel header="Shipping address">
                <ng-template pTemplate="content" let-nextCallback="nextCallback" let-index="index">
                    <div class="flex flex-column h-12rem">
                        <div class="content">
                            <p-iconField iconPosition="left" class="inptField">
                                <p-inputIcon styleClass="pi map-marker" />
                                <input type="text" pInputText placeholder="Address*" [(ngModel)]="address" />
                            </p-iconField>
                            <p-iconField iconPosition="left" class="inptField">
                                <p-inputIcon styleClass="pi circle-on" />
                                <input type="number" pInputText placeholder="Zip code*"  [(ngModel)]="zip"/>
                            </p-iconField>
                        </div>
                    </div>
                    <div class="flex pt-4 justify-content-end">
                        <p-button label="Next" icon="pi pi-arrow-right" iconPos="right"
                            (onClick)="nextCallback.emit()" />
                    </div>
                </ng-template>
            </p-stepperPanel>
            <p-stepperPanel header="Add date">
                <ng-template pTemplate="content" let-prevCallback="prevCallback" let-nextCallback="nextCallback"
                    let-index="index">
                    <div class="flex flex-column h-12rem">
                        <div class="content">
                            <p-calendar [(ngModel)]="date" [iconDisplay]="'input'" [showIcon]="true" [(ngModel)]="date"
                                inputId="icondisplay" />

                        </div>
                    </div>
                    <div class="flex pt-4 justify-content-between">
                        <p-button label="Back" icon="pi pi-arrow-left" (onClick)="prevCallback.emit()" /> &nbsp;
                        <p-button label="Next" icon="pi pi-arrow-right" iconPos="right"
                            (onClick)="nextCallback.emit()" />
                    </div>
                </ng-template>
            </p-stepperPanel>
            <p-stepperPanel header="Add note">
                <ng-template pTemplate="content" let-prevCallback="prevCallback" let-index="index">
                    <div class="flex flex-column h-12rem">
                        <div class="content">
                            <textarea rows="5" cols="30" pInputTextarea   [(ngModel)]="note" ></textarea>
                        </div>
                    </div>
                    <div class="flex pt-4 justify-content-start">
                        <p-button label="Back" icon="pi pi-arrow-left" (onClick)="prevCallback.emit()" />&nbsp;
                        <p-button label="Save" icon="pi pi-save" iconPos="right" (onClick)="savereciever()" />
                    </div>

                </ng-template>
            </p-stepperPanel>
        </p-stepper>
    </div>
</div>


<!-- <p>{{giftBoxitems|json}}</p> -->